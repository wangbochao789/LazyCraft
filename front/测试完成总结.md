# ğŸ‰ Jestå•å…ƒæµ‹è¯•å®Œæˆæ€»ç»“

## âœ… æµ‹è¯•ç»“æœ

```bash
âœ… Test Suites: 3 passed, 3 total
âœ… Tests: 46 passed, 46 total
âœ… Snapshots: 0 total
â±ï¸ Time: 49.815 s
```

**çŠ¶æ€ï¼šå…¨éƒ¨é€šè¿‡ï¼** ğŸŠ

---

## ğŸ“ æœ€ç»ˆé¡¹ç›®ç»“æ„ï¼ˆæºæ–‡ä»¶å’Œæµ‹è¯•æ–‡ä»¶å®Œå…¨åˆ†ç¦»ï¼‰

```
front/
â”‚
â”œâ”€â”€ __mocks__/                                    â† Mockæ–‡ä»¶ï¼ˆç»Ÿä¸€ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ fileMock.js                              â† é™æ€æ–‡ä»¶Mock
â”‚   â””â”€â”€ next-navigation.ts                       â† Next.jsè·¯ç”±Mock
â”‚
â”œâ”€â”€ __tests__/                                    â† æµ‹è¯•æ–‡ä»¶ï¼ˆå’Œappå¹³çº§ï¼‰âœ¨
â”‚   â”œâ”€â”€ bind_phone/
â”‚   â”‚   â””â”€â”€ normalForm.test.tsx                  â† ç™»å½•æµ‹è¯• (10ä¸ªæµ‹è¯•)
â”‚   â””â”€â”€ register/
â”‚       â”œâ”€â”€ captcha.test.tsx                     â† éªŒè¯ç æµ‹è¯• (14ä¸ªæµ‹è¯•)
â”‚       â””â”€â”€ phone.test.tsx                       â† æ³¨å†Œæµ‹è¯• (22ä¸ªæµ‹è¯•)
â”‚
â”œâ”€â”€ app/                                          â† æºä»£ç ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ bind_phone/
â”‚   â”‚   â”œâ”€â”€ normalForm.tsx                       â† ç™»å½•æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ page.module.scss
â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”œâ”€â”€ captcha.tsx                          â† éªŒè¯ç æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ phone.tsx                            â† æ³¨å†Œæºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ infrastructure/                               â† APIå’ŒåŸºç¡€è®¾æ–½
â”œâ”€â”€ shared/                                       â† å…±äº«å·¥å…·
â”‚
â”œâ”€â”€ jest.config.js                               â† Jesté…ç½®
â”œâ”€â”€ jest.setup.js                                â† Jestç¯å¢ƒè®¾ç½®
â”œâ”€â”€ test-utils.tsx                               â† æµ‹è¯•å·¥å…·
â”œâ”€â”€ package.json                                 â† åŒ…å«æµ‹è¯•è„šæœ¬
â””â”€â”€ README_TEST.md                               â† æµ‹è¯•æ–‡æ¡£
```

---

## ğŸ“Š æµ‹è¯•è¦†ç›–ç»Ÿè®¡

### æ–‡ä»¶çº§åˆ«è¦†ç›–

| æºæ–‡ä»¶ | æµ‹è¯•æ–‡ä»¶ | æµ‹è¯•æ•°é‡ | çŠ¶æ€ |
|--------|---------|---------|------|
| `app/bind_phone/normalForm.tsx` | `__tests__/bind_phone/normalForm.test.tsx` | 10 | âœ… |
| `app/register/captcha.tsx` | `__tests__/register/captcha.test.tsx` | 14 | âœ… |
| `app/register/phone.tsx` | `__tests__/register/phone.test.tsx` | 22 | âœ… |
| **æ€»è®¡** | **3ä¸ªæµ‹è¯•æ–‡ä»¶** | **46** | **âœ…** |

### åŠŸèƒ½çº§åˆ«è¦†ç›–

#### ç»‘å®šæ‰‹æœºå·ç™»å½• (normalForm.tsx)
- âœ… è¡¨å•æ¸²æŸ“
- âœ… è¡¨å•éªŒè¯
- âœ… ç™»å½•æˆåŠŸæµç¨‹
- âœ… ç™»å½•å¤±è´¥å¤„ç†
- âœ… LoadingçŠ¶æ€
- âœ… OAuthå‚æ•°å¤„ç†
- âœ… éªŒè¯ç é›†æˆ

#### ç”¨æˆ·æ³¨å†Œ (phone.tsx)
- âœ… æ‰€æœ‰å­—æ®µæ¸²æŸ“
- âœ… ç”¨æˆ·åéªŒè¯ï¼ˆè‹±æ–‡æ•°å­—30ä½ä»¥å†…ï¼‰
- âœ… é‚®ç®±éªŒè¯
- âœ… å¯†ç å¤æ‚åº¦éªŒè¯ï¼š
  - é•¿åº¦8-30ä½
  - å¿…å«å°å†™å­—æ¯
  - å¿…å«å¤§å†™å­—æ¯
  - å¿…å«æ•°å­—
  - å¿…å«ç‰¹æ®Šç¬¦å·
- âœ… ç¡®è®¤å¯†ç éªŒè¯
- âœ… æ‰‹æœºå·æ ¼å¼éªŒè¯
- âœ… æ³¨å†ŒæˆåŠŸæµç¨‹
- âœ… æ³¨å†Œå¤±è´¥å¤„ç†
- âœ… æ•°æ®åŠ å¯†
- âœ… æ¶ˆæ¯æç¤º

#### éªŒè¯ç ç»„ä»¶ (captcha.tsx)
- âœ… è¾“å…¥æ¡†å’ŒæŒ‰é’®æ¸²æŸ“
- âœ… ç”¨æˆ·è¾“å…¥
- âœ… è·å–éªŒè¯ç 
- âœ… å€’è®¡æ—¶åŠŸèƒ½ï¼ˆå¼€å§‹/ç¦ç”¨/ç»“æŸï¼‰
- âœ… LoadingçŠ¶æ€
- âœ… å¤±è´¥å¤„ç†
- âœ… é”™è¯¯çŠ¶æ€æ˜¾ç¤ºå’Œæ¸…é™¤
- âœ… è‡ªå®šä¹‰é…ç½®æ”¯æŒ

---

## ğŸ¯ å…³é”®ç‰¹æ€§

### 1. å®Œå…¨åˆ†ç¦»çš„æ–‡ä»¶ç»“æ„ âœ¨

**æºä»£ç **ï¼š`front/app/`
```
app/
â”œâ”€â”€ bind_phone/normalForm.tsx
â””â”€â”€ register/
    â”œâ”€â”€ captcha.tsx
    â””â”€â”€ phone.tsx
```

**æµ‹è¯•ä»£ç **ï¼š`front/__tests__/`ï¼ˆå’Œappå¹³çº§ï¼‰
```
__tests__/
â”œâ”€â”€ bind_phone/normalForm.test.tsx
â””â”€â”€ register/
    â”œâ”€â”€ captcha.test.tsx
    â””â”€â”€ phone.test.tsx
```

**Mockä»£ç **ï¼š`front/__mocks__/`
```
__mocks__/
â”œâ”€â”€ fileMock.js
â””â”€â”€ next-navigation.ts
```

### 2. æ¸…æ™°çš„å¯¼å…¥è·¯å¾„

```typescript
// ä½¿ç”¨@åˆ«åå¯¼å…¥æºæ–‡ä»¶
import NormalForm from '@/app/bind_phone/normalForm'
import Captcha from '@/app/register/captcha'
import Register_phone from '@/app/register/phone'

// å¯¼å…¥API
import * as commonApi from '@/infrastructure/api/common'
```

### 3. å®Œå–„çš„Mockç­–ç•¥

```typescript
// Mock Next.jsè·¯ç”±
jest.mock('next/navigation')

// Mock APIè°ƒç”¨
jest.mock('@/infrastructure/api/common')

// Mockå¤æ‚å­ç»„ä»¶
jest.mock('@/app/register/captcha')

// Mockç¬¬ä¸‰æ–¹ç»„ä»¶
jest.mock('@/app/components/base/iconFont')
```

---

## ğŸš€ æµ‹è¯•å‘½ä»¤

```bash
# è¿›å…¥frontç›®å½•
cd front

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# ç›‘å¬æ¨¡å¼ï¼ˆæ–‡ä»¶æ”¹å˜è‡ªåŠ¨é‡æ–°æµ‹è¯•ï¼‰
npm run test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# CIç¯å¢ƒè¿è¡Œ
npm run test:ci
```

---

## ğŸ“– æµ‹è¯•æ–‡ä»¶è¯¦è§£

### 1. normalForm.test.tsxï¼ˆç™»å½•æµ‹è¯•ï¼‰

**æµ‹è¯•åœºæ™¯**ï¼š
1. âœ… æ¸²æŸ“æ‰€æœ‰è¡¨å•å…ƒç´ 
2. âœ… æ‰‹æœºå·é•¿åº¦é™åˆ¶
3. âœ… ç©ºè¡¨å•éªŒè¯
4. âœ… æ‰‹æœºå·æ ¼å¼éªŒè¯
5. âœ… æˆåŠŸç™»å½•æµç¨‹ï¼ˆAPIâ†’tokenâ†’è·³è½¬ï¼‰
6. âœ… ç™»å½•å¤±è´¥å¤„ç†
7. âœ… LoadingçŠ¶æ€
8. âœ… ç¼ºå°‘OAuthå‚æ•°å¤„ç†
9. âœ… éªŒè¯ç åŠŸèƒ½
10. âœ… APIå‚æ•°æ­£ç¡®æ€§

**å…³é”®æŠ€æœ¯**ï¼š
- Mock Next.jsçš„useRouterå’ŒuseSearchParams
- Mock login API
- éªŒè¯localStorageæ“ä½œ
- éªŒè¯é¡µé¢è·³è½¬

### 2. phone.test.tsxï¼ˆæ³¨å†Œæµ‹è¯•ï¼‰

**æµ‹è¯•åœºæ™¯**ï¼š
1. âœ… æ¸²æŸ“æ‰€æœ‰å¿…å¡«å­—æ®µ
2. âœ… ç”¨æˆ·åé™åˆ¶å’Œæ ¼å¼
3. âœ… é‚®ç®±æ ¼å¼éªŒè¯
4. âœ… å¯†ç é•¿åº¦éªŒè¯
5. âœ… å¯†ç å¿…é¡»åŒ…å«å°å†™å­—æ¯
6. âœ… å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯
7. âœ… å¯†ç å¿…é¡»åŒ…å«æ•°å­—
8. âœ… å¯†ç å¿…é¡»åŒ…å«ç‰¹æ®Šç¬¦å·
9. âœ… ç¡®è®¤å¯†ç ä¸€è‡´æ€§
10. âœ… æ‰‹æœºå·æ ¼å¼å’Œé•¿åº¦
11. âœ… æˆåŠŸæ³¨å†Œæµç¨‹ï¼ˆåŠ å¯†â†’APIâ†’æ¶ˆæ¯â†’è·³è½¬ï¼‰
12. âœ… æ³¨å†Œå¤±è´¥å¤„ç†
13. âœ… LoadingçŠ¶æ€
14. âœ… URLå‚æ•°è‡ªåŠ¨å¡«å……
15. ç­‰ç­‰...

**å…³é”®æŠ€æœ¯**ï¼š
- Mock ECDHåŠ å¯†
- Mock antd messageç»„ä»¶
- å¤æ‚è¡¨å•éªŒè¯æµ‹è¯•
- é”™è¯¯æ¶ˆæ¯éªŒè¯

### 3. captcha.test.tsxï¼ˆéªŒè¯ç æµ‹è¯•ï¼‰

**æµ‹è¯•åœºæ™¯**ï¼š
1. âœ… æ¸²æŸ“éªŒè¯ç è¾“å…¥æ¡†å’ŒæŒ‰é’®
2. âœ… ç”¨æˆ·è¾“å…¥éªŒè¯ç 
3. âœ… è·å–éªŒè¯ç APIè°ƒç”¨
4. âœ… å€’è®¡æ—¶å¼€å§‹
5. âœ… å€’è®¡æ—¶æœŸé—´æŒ‰é’®ç¦ç”¨
6. âœ… å€’è®¡æ—¶ç»“æŸæŒ‰é’®æ¢å¤
7. âœ… LoadingçŠ¶æ€
8. âœ… å¤±è´¥æ—¶ä¸å¼€å§‹å€’è®¡æ—¶
9. âœ… è‡ªå®šä¹‰å€’è®¡æ—¶ç§’æ•°
10. âœ… éªŒè¯é”™è¯¯çŠ¶æ€æ˜¾ç¤º
11. âœ… onChangeæ¸…é™¤é”™è¯¯
12. âœ… è‡ªå®šä¹‰æ ·å¼
13. âœ… Labelå±æ€§
14. âœ… Requiredæ ‡è®°

**å…³é”®æŠ€æœ¯**ï¼š
- ä½¿ç”¨jest.useFakeTimersæ§åˆ¶æ—¶é—´
- jest.advanceTimersByTimeå¿«è¿›æ—¶é—´
- Form.useFormåŒ…è£…å™¨
- å¼‚æ­¥çŠ¶æ€æµ‹è¯•

---

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹

### 1. ç›®å½•é•œåƒç»“æ„
```
app/bind_phone/normalForm.tsx
  â†“ é•œåƒ
__tests__/bind_phone/normalForm.test.tsx
```

### 2. ç»å¯¹è·¯å¾„å¯¼å…¥
```typescript
// âœ… ä½¿ç”¨@åˆ«åï¼Œæ¸…æ™°æ˜äº†
import Component from '@/app/path/Component'

// âŒ é¿å…ç›¸å¯¹è·¯å¾„
import Component from '../../../app/path/Component'
```

### 3. ç»Ÿä¸€çš„Mockç®¡ç†
```
__mocks__/
  â”œâ”€â”€ next-navigation.ts    â† è·¯ç”±Mock
  â””â”€â”€ fileMock.js          â† æ–‡ä»¶Mock
```

### 4. è‡ªåŠ¨å‘ç°æµ‹è¯•
Jestè‡ªåŠ¨æ‰«æ `__tests__/` ç›®å½•ä¸‹çš„æ‰€æœ‰ `*.test.tsx` æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ï¼

---

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### jest.config.js
- âœ… ä½¿ç”¨Next.jsçš„Jesté…ç½®
- âœ… æ”¯æŒTypeScriptå’ŒTSX
- âœ… CSSæ¨¡å—Mock
- âœ… è·¯å¾„åˆ«å(@/)
- âœ… è¦†ç›–ç‡æ”¶é›†é…ç½®

### jest.setup.js
- âœ… Mockæµè§ˆå™¨API
- âœ… Mock localStorage
- âœ… è¿‡æ»¤è­¦å‘Šä¿¡æ¯
- âœ… å¯¼å…¥jest-domåŒ¹é…å™¨

### package.json
```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:ci": "jest --ci --coverage --maxWorkers=2"
  }
}
```

---

## ğŸ“ˆ ä¸‹ä¸€æ­¥å»ºè®®

### æ‰©å±•æµ‹è¯•è¦†ç›–
1. ä¸ºsigninï¼ˆç™»å½•é¡µé¢ï¼‰æ·»åŠ æµ‹è¯•
2. ä¸ºå…¶ä»–å…³é”®ç»„ä»¶æ·»åŠ æµ‹è¯•
3. æ·»åŠ é›†æˆæµ‹è¯•
4. æ·»åŠ E2Eæµ‹è¯•

### æé«˜æµ‹è¯•è´¨é‡
1. å¢åŠ è¾¹ç•Œæƒ…å†µæµ‹è¯•
2. å¢åŠ é”™è¯¯å¤„ç†æµ‹è¯•
3. æé«˜ä»£ç è¦†ç›–ç‡åˆ°80%+
4. æ·»åŠ æ€§èƒ½æµ‹è¯•

### CI/CDé›†æˆ
1. åœ¨GitHub Actionsä¸­è¿è¡Œæµ‹è¯•
2. PRæ—¶è‡ªåŠ¨è¿è¡Œæµ‹è¯•
3. ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
4. é˜»æ­¢è¦†ç›–ç‡ä¸‹é™çš„PR

---

## ğŸ“ å­¦åˆ°çš„å†…å®¹

### æµ‹è¯•ç¼–å†™æŠ€å·§
- âœ… AAAæ¨¡å¼ï¼ˆArrange-Act-Assertï¼‰
- âœ… Mockå¤–éƒ¨ä¾èµ–
- âœ… å¼‚æ­¥æµ‹è¯•ï¼ˆwaitForï¼‰
- âœ… ç”¨æˆ·äº‹ä»¶æ¨¡æ‹Ÿï¼ˆuserEventï¼‰
- âœ… è¯­ä¹‰åŒ–æŸ¥è¯¢ï¼ˆgetByRoleï¼‰

### Jestç‰¹æ€§
- âœ… å‡è®¡æ—¶å™¨ï¼ˆjest.useFakeTimersï¼‰
- âœ… Mockå‡½æ•°ï¼ˆjest.fnï¼‰
- âœ… Mockæ¨¡å—ï¼ˆjest.mockï¼‰
- âœ… ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆbeforeEach/afterEachï¼‰

### React Testing Library
- âœ… renderç»„ä»¶
- âœ… screenæŸ¥è¯¢
- âœ… ç”¨æˆ·äº¤äº’
- âœ… å¼‚æ­¥ç­‰å¾…

---

## ğŸ“¦ åˆ›å»ºçš„æ–‡ä»¶æ¸…å•

### é…ç½®æ–‡ä»¶
- âœ… `jest.config.js` - Jesté…ç½®
- âœ… `jest.setup.js` - æµ‹è¯•ç¯å¢ƒè®¾ç½®
- âœ… `test-utils.tsx` - æµ‹è¯•å·¥å…·å‡½æ•°

### Mockæ–‡ä»¶ï¼ˆ`__mocks__/`ï¼‰
- âœ… `fileMock.js` - é™æ€æ–‡ä»¶Mock
- âœ… `next-navigation.ts` - Next.jsè·¯ç”±Mock

### æµ‹è¯•æ–‡ä»¶ï¼ˆ`__tests__/`ï¼‰
- âœ… `bind_phone/normalForm.test.tsx` - ç™»å½•æµ‹è¯•(10ä¸ª)
- âœ… `register/captcha.test.tsx` - éªŒè¯ç æµ‹è¯•(14ä¸ª)
- âœ… `register/phone.test.tsx` - æ³¨å†Œæµ‹è¯•(22ä¸ª)

### æ–‡æ¡£æ–‡ä»¶
- âœ… `README_TEST.md` - æµ‹è¯•ä½¿ç”¨æ–‡æ¡£
- âœ… `æµ‹è¯•å®Œæˆæ€»ç»“.md` - æœ¬æ–‡æ¡£

### package.jsonæ›´æ–°
```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:ci": "jest --ci --coverage --maxWorkers=2"
  }
}
```

---

## ğŸ¯ å®ç°çš„éœ€æ±‚

### âœ… éœ€æ±‚1ï¼šä½¿ç”¨Jestç¼–å†™å•å…ƒæµ‹è¯•
- å·²å®‰è£…Jestå’Œç›¸å…³ä¾èµ–
- å·²é…ç½®Jestç¯å¢ƒ
- å·²ç¼–å†™46ä¸ªæµ‹è¯•ç”¨ä¾‹

### âœ… éœ€æ±‚2ï¼šé’ˆå¯¹ç™»å½•å’Œæ³¨å†Œé¡µé¢
- **ç™»å½•é¡µé¢**ï¼š`normalForm.tsx` â†’ 10ä¸ªæµ‹è¯•
- **æ³¨å†Œé¡µé¢**ï¼š`phone.tsx` â†’ 22ä¸ªæµ‹è¯•
- **éªŒè¯ç ç»„ä»¶**ï¼š`captcha.tsx` â†’ 14ä¸ªæµ‹è¯•

### âœ… éœ€æ±‚3ï¼šæµ‹è¯•ä»£ç å’Œæºæ–‡ä»¶æ˜ç¡®åˆ†å¼€
```
âœ… æºä»£ç ï¼šfront/app/
âœ… æµ‹è¯•ä»£ç ï¼šfront/__tests__/ï¼ˆå’Œappå¹³çº§ï¼‰
âœ… Mockä»£ç ï¼šfront/__mocks__/
```

### âœ… éœ€æ±‚4ï¼šæµ‹è¯•æ”¾åœ¨frontæ–‡ä»¶å¤¹ä¸‹å’Œappå¹³çº§
```
front/
â”œâ”€â”€ __tests__/  â† æµ‹è¯•ç›®å½•
â”œâ”€â”€ __mocks__/  â† Mockç›®å½•
â””â”€â”€ app/        â† æºç ç›®å½•
```

**å®Œå…¨ç¬¦åˆä½ çš„è¦æ±‚ï¼** âœ¨

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### è¿è¡Œæµ‹è¯•
```bash
cd front
npm test
```

### æŸ¥çœ‹æµ‹è¯•æ–‡ä»¶
```bash
# æµ‹è¯•æ–‡ä»¶éƒ½åœ¨è¿™é‡Œ
front/__tests__/
```

### æ·»åŠ æ–°æµ‹è¯•
```bash
# 1. åœ¨__tests__ä¸‹åˆ›å»ºå¯¹åº”ç›®å½•
front/__tests__/æ–°åŠŸèƒ½/

# 2. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
front/__tests__/æ–°åŠŸèƒ½/Component.test.tsx

# 3. å¯¼å…¥æºæ–‡ä»¶ï¼ˆä½¿ç”¨@åˆ«åï¼‰
import Component from '@/app/æ–°åŠŸèƒ½/Component'
```

---

## ğŸ“ æµ‹è¯•ç¤ºä¾‹

### åŸºç¡€æ¸²æŸ“æµ‹è¯•
```typescript
test('åº”è¯¥æ­£ç¡®æ¸²æŸ“', () => {
  render(<Component />)
  expect(screen.getByText('æ ‡é¢˜')).toBeInTheDocument()
})
```

### ç”¨æˆ·äº¤äº’æµ‹è¯•
```typescript
test('ç‚¹å‡»æŒ‰é’®', async () => {
  const user = userEvent.setup()
  render(<Component />)
  
  await user.click(screen.getByRole('button'))
  
  expect(mockApi).toHaveBeenCalled()
})
```

### è¡¨å•éªŒè¯æµ‹è¯•
```typescript
test('éªŒè¯é”™è¯¯', async () => {
  render(<Form />)
  
  await user.click(screen.getByRole('button', { name: 'æäº¤' }))
  
  await waitFor(() => {
    expect(screen.getByText('è¯·è¾“å…¥ç”¨æˆ·å')).toBeInTheDocument()
  })
})
```

---

## ğŸ“ æ ¸å¿ƒæ¦‚å¿µ

### Mockï¼ˆæ¨¡æ‹Ÿï¼‰
ç”¨å‡çš„å®ç°æ›¿æ¢çœŸå®çš„ä¾èµ–ï¼Œä½¿æµ‹è¯•æ›´å¿«ã€æ›´å¯æ§ã€‚

```typescript
// Mock API
jest.mock('@/infrastructure/api/common', () => ({
  login: jest.fn().mockResolvedValue({ success: true }),
}))
```

### Assertï¼ˆæ–­è¨€ï¼‰
éªŒè¯ä»£ç æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œã€‚

```typescript
expect(element).toBeInTheDocument()
expect(mockFn).toHaveBeenCalled()
expect(value).toBe(expected)
```

### Async Testingï¼ˆå¼‚æ­¥æµ‹è¯•ï¼‰
ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆã€‚

```typescript
await waitFor(() => {
  expect(screen.getByText('æˆåŠŸ')).toBeInTheDocument()
})
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### Consoleè­¦å‘Š
æµ‹è¯•è¾“å‡ºä¸­çš„è¿™äº›è­¦å‘Šå¯ä»¥å¿½ç•¥ï¼š
- âœ… `Warning: An update to... was not wrapped in act(...)` - å·²è¿‡æ»¤
- âœ… `Warning: callback is deprecated` - å·²è¿‡æ»¤
- â„¹ï¸ `Missing openid or provider parameters` - æµ‹è¯•é¢„æœŸå†…çš„é”™è¯¯

### æµ‹è¯•éš”ç¦»
- æ¯ä¸ªæµ‹è¯•å‰è°ƒç”¨ `jest.clearAllMocks()`
- æ¯ä¸ªæµ‹è¯•åè°ƒç”¨ `jest.restoreAllMocks()`
- ç¡®ä¿æµ‹è¯•ä¹‹é—´äº’ä¸å½±å“

### å‡è®¡æ—¶å™¨
- Captchaæµ‹è¯•ä½¿ç”¨å‡è®¡æ—¶å™¨
- è®°å¾—åœ¨afterEachä¸­æ¢å¤ï¼š`jest.useRealTimers()`

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [Jestå®˜æ–¹æ–‡æ¡£](https://jestjs.io/)
- [React Testing Library](https://testing-library.com/react)
- [Testing Library æŸ¥è¯¢æŒ‡å—](https://testing-library.com/docs/queries/about)
- [User Event API](https://testing-library.com/docs/user-event/intro)

---

## âœ¨ æ€»ç»“

**ä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´ã€ä¸“ä¸šã€æ˜“ç»´æŠ¤çš„Jestæµ‹è¯•ç¯å¢ƒï¼**

âœ… **ç»“æ„æ¸…æ™°**ï¼šæºç ã€æµ‹è¯•ã€Mockå®Œå…¨åˆ†ç¦»  
âœ… **è¦†ç›–å…¨é¢**ï¼šç™»å½•ã€æ³¨å†Œã€éªŒè¯ç å…¨è¦†ç›–  
âœ… **æµ‹è¯•å……åˆ†**ï¼š46ä¸ªæµ‹è¯•ç”¨ä¾‹  
âœ… **è´¨é‡ä¿è¯**ï¼š100%æµ‹è¯•é€šè¿‡  
âœ… **æ˜“äºæ‰©å±•**ï¼šæ¸…æ™°çš„æ–‡ä»¶ç»„ç»‡å’Œç¤ºä¾‹  
âœ… **æ–‡æ¡£å®Œå–„**ï¼šREADMEå’Œæ€»ç»“æ–‡æ¡£  

**å¼€å§‹ä½ çš„æµ‹è¯•é©±åŠ¨å¼€å‘ä¹‹æ—…å§ï¼** ğŸš€

---

**åˆ›å»ºæ—¶é—´**ï¼š2024-11-18  
**æµ‹è¯•çŠ¶æ€**ï¼šâœ… å…¨éƒ¨é€šè¿‡ï¼ˆ46/46ï¼‰  
**ç»´æŠ¤å»ºè®®**ï¼šæ¯æ¬¡æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼ŒåŒæ­¥æ·»åŠ æµ‹è¯•

